:root {
        /* Setting the height of the interface/menu bar */
    --MenuHeight:           50px;
    --ControlHeight:        min(25vw,100px);

    /* Position of reader whether or not TOC or other things are shown.*/
    --READERPOSITION:       0px;
    --TOCWIDTH:             min(500px,80vw);

    /* TOC identifier images */
    --TitleImageTOC:        url("../design/Paragate_logo.png");
    --WallImageTOC:         url("../design/");

    /* Text configurations */
    --TextSetWidthFixed:    40px;
    --TextSetWidthDynamic:  10vw;
    --TextSize:             1.5em;
    --TextLineHeight:       1.5em;
    --TextMargin:           5vw;
    --DefaultWidth:         600px;
    --SeparatorWidth:       60%;
    
    /* Active theme settings. These are set from   */
    /* the JavaScript program.                     */
    --FallbackTitle:        var(--CodyTitle);
    --FallbackText:         var(--CodyText);
    --ActiveTitle:          var(--CodyTitle);
    --ActiveSub:            var(--CodyText);
    --ActiveText:           var(--CodyText);
    --ActiveSize:           var(--CodySize);
    --TextColor:           black;
    --BackgroundColor:     white;
    --MidgroundColor:      black;
    --ElementColor:        dimgray;
    --HoverColor:          rgba(12,12,12,0.1);
    --BarColor:            black;
    --BarLength:            0%;
    --IconState:            invert(1);
    --BooleanColor:         black;

    /* (legacy) Active color theming */
    --ActivePrimary:        189, 0, 28;
    --ActiveSecondary:      156, 121, 33;

    /* Table-of-contents configurations */
    --TOCEntryHeight:      80px;
    --TOCbackground:       rgba(0,0,0,0.1);

    --Title:                2.5em;
    --Subtitle:             min(2.0em,max(5.5vw,1.2em));/*2.0em;/**/
    --Section:              2.5em;

    --SubtitleAccent:       '  ';
    --SectionAccent:        ' - ';

    /* Special theming: Message bubbles */
    --MsgFont:              "SanFrancisco",'Helvetica Neue','Helvetica';
    --MsgColorTo:         rgba(33, 138, 255, 0.8);
    --MsgFontColorTo:     white;
    --MsgColorFrom:       rgba(216, 216, 216, 0.8);
    --MsgFontColorFrom:   black;

    --ImageWallFore:        None;
    --ImageWallBack:        None;


    /* Layout Characteristics */
    --MenuHeight:           50px;
    --MenuPad:              10px;    
    --FooterHeight:         80px;
    --FooterPad:            10px;
    --BodyStart:            calc(var(--MenuHeight) + var(--MenuPad));
    --BodyHeight:           calc(100dvh - var(--MenuHeight) - var(--MenuPad) - var(--FooterHeight) - var(--FooterPad));
    --ContentWidth:         min(800px,100vw);
    --TypesetMargin:        80px;

    /*============================================*/
/*====={ Title, text, and size variables by story }=====*/
/*======================================================*/

    /*-----[  Styles for Paragate > Cody  ]-----*/
    --CodyTitle:        "Oxanium", sans-serif, "Bahnscrift",'Arial';
    --CodyText:         "Roboto Flex", sans-serif, 'Bahnschrift', 'Arial';
    --CodySize:         calc( var(--TextSize) - 0.10em );

    /*-----[ Styles for Paragate > Katiya ]-----*/
    --KatiyaTitle:      "Cormorant Unicase", serif;
    --KatiyaText:       'Cormorant Infant', serif, 'Lucida Fax', 'Times New Roman';
    --KatiyaSize:       calc(var(--TextSize) + 0.00em );

    /*-----[ Styles for Firebrand > Titus ]-----*/
    --TitusTitle:       "Cormorant Unicase", serif;
    --TitusText:        'Cormorant Infant', serif, 'Lucida Fax', 'Times New Roman';
    --TitusSize:        calc(var(--TextSize) + 0.00em );

/*====={ Announcement/cover styling variables }=====*/
    --CoverParagate: 
                        radial-gradient(
                            rgba(128,128,128,0.8), 
                            rgba(128,128,128,0.4)
                            ), 
                        linear-gradient(
                            to right, 
                            rgba(255, 64, 64, 0.5),
                            rgba(64,64,255,0.5)
                            );
    --CoverFirebrand:
                        radial-gradient(
                            rgba(243, 229, 83, 0.6), 
                            rgba(245, 72, 72, 0.3)
                            ), 
                        linear-gradient(
                            to right, 
                            rgba(237, 28, 28, 0.3),
                            rgba(195,144,212,0.6),
                            rgba(237, 28, 28, 0.3)
                            );
    --CoverGradient:    var(--CoverParagate);
    
/*====={ Transitioning background styles }=====*/
/*====={    (vertically-tiled JPEGs)     }=====*/
    --WallCody:         url("../design/bg-cody.jpg");
    --WallKatiya:       url("../design/bg-kat.jpg");
    --WallTitus:        url("../design/bg-tie.jpg");

/*====={ Theme channel opacities }=====*/
    --CodyOp:           1.00;
    --KatiyaOp:         1.00;
    --TitusOp:          1.00;
    --SpecialOp:        0.00;
}

body {
    /* no scrolling */
    overflow: hidden;
    margin: 0;
}
/*
div {
    border: 1px solid black;
}
div > div {
    border: 1px solid red;
}
    */
div.TOC {
    position:absolute;
    left:0;
    top:0;
    width: var(--TOCWIDTH);
    height: 100dvh;
    background: var(--MidgroundColor);
    color: var(--TextColor);
    overflow-x: hidden;
    overflow-y: scroll;
}
div.TOCwall {
    position: relative;
    left: 50%;
    top: 10px;
    width: calc(var(--TOCWIDTH) - 20px);
    height: 150px;
    background-image: var(--WallImageTOC);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    transform: translateX(-50%);
    /*border: 1px solid black;*/
    border-radius: 0px;
    /*box-shadow: 0px 0px 10px black;*/
}
div.TOClogo {
    position: absolute;
    left:5%;
    width: 90%;
    height: 100%;
    background-image: var(--TitleImageTOC);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    /*filter: drop-shadow(0 0 2rem black) drop-shadow(0 0 0.1rem black)*/
    filter: drop-shadow(1000vw 0 var(--TextColor));
    transform: translateX(-1000vw);
}
div.TOCthischapter {
    font-family: var(--ActiveTitle);
    font-size: var(--TextSize);
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 20px);
    grid-template:
        'ttc_header'
        'ttc_id'
        'ttc_blurb'
        ;
}
div.TOCwindow {
    width: min(450px,calc(100% - 20px));
    position:relative;
    left: 50%;
    transform: translateX(-50%);
}

div.TTC_HEADER {
    margin-top: 10px;
    text-align: center;
    grid-area: ttc_header;
    font-size: calc(var(--TextSize) * 0.75 );
}
div.TTC_elem {
    background-color: var(--ElementColor);
    text-align: center;
    font-family: var(--ActiveSub);
    font-size: calc(var(--TextSize) * 0.5);
    border: 1px solid var(--TextColor);    
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 50px);
    padding-top: 8px;
    padding-bottom: 8px;    
    color: var(--BooleanColor);
}
div.TTC_ID {
    margin-top: 10px;
    grid-area: ttc_id
}
div.TTC_blurb {    
    grid-area: ttc_blurb;
    font-size: calc(var(--TextSize) * 0.5);
    text-align: justify;
    padding-top: 12px;
    padding-bottom: 12px;
}
div.TTC_blurb > p {
    margin: 0px 25px 0px 25px;
}
div.TOC-act {
    padding-top: 10px;
    padding-bottom: 5px;
    text-decoration: underline;
    text-align: center;
}
div.TOC-chapcontainer {
    border: 0px solid var(--TextColor);
    display:grid;
    grid-template:
        'Tchap Tname Tdate'
        'Tchap Tblurb Tblurb';
    grid-template-columns: 56px auto 100px;
    font-family: var(--ActiveText);
    color: var(--BooleanColor);
    padding: 5px 0px 5px 0px;
    transition: background-color 0.3s ease-in-out, padding 0.5s ease-in-out;
}
div.TOC-chapcontainer > div {
    /*border: 1px solid var(--BooleanColor);*/
    padding-top: 5px;
    padding-bottom: 5px;
}
div.TOC-chapcontainer:hover {
    background-color: var(--BackgroundColor);
    padding: 10px 0px 10px 0px;
    border-left: 2px solid var(--TextColor);
}
div.TOC-chapcontainer:active {
    background-color: rgba(255, 248, 220,0.4);
}
div.TOC-num {
    margin-top: auto;
    margin-bottom: auto;
    grid-area: Tchap;
    text-align:center;
}
div.TOC-name {
    padding-top: 10px;
    grid-area: Tname;
    font-size: calc(var(--TextSize) * 0.5);
    padding-left: 10px;
    font-variant: small-caps;
    font-weight: 500;
}
div.TOC-blurb {
    grid-area: Tblurb; 
    font-size: calc(var(--TextSize) * 0.5);
    text-align: justify;
    padding-left: 10px;
    padding-right: 25px;
    margin-bottom: 10px;
    font-weight: 300;
    border-top: 1px solid var(--TextColor);  
}
div.TOC-date {
    padding-top: 10px;
    grid-area: Tdate;
    font-size: calc(var(--TextSize) * 0.5);
    text-align: right;
    padding-right: 10px;
}

div.READER {
    position:absolute;
    width: 100vw;
    height:100dvh;
    left: var(--READERPOSITION);
    transition: left 0.8s ease-in-out;
    top:0px;
    /*border: 2px solid dimgray;*/
    box-shadow: 0px 0px 20px black;
}
div.BACKGROUND {
    position:absolute;
    top:0;
    left:0;
    width:100vw;
    height:100dvh;
    background-color: var(--BackgroundColor);
}

div.HEADER {
    position: absolute;
    top:0;
    left:50vw;
    transform: translateX(-50%);
    width: var(--ContentWidth);
    height: var(--MenuHeight); 
}
div.BODY {
    position: absolute;
    top: var(--BodyStart);
    left:50vw;
    transform: translateX(-50%);
    width: var(--ContentWidth);
    height: var(--BodyHeight);
    overflow-x: hidden;
    overflow-y: scroll;   
    scrollbar-width: none; 
    /*
    background-color: var(--BackgroundColor);
    background-image: url("../styles/bg-cody.jpg");
    background-size: 100vw auto;
    background-repeat:repeat;
    background-position:top center;
    */
}
div.TYPESET {
    position: relative;
    width: calc(100% - (var(--TypesetMargin) * 2));
    left: calc( 0.5 * var(--ContentWidth));
    transform: translateX(-50%);
}
div.TOGGLE {
    opacity:0.2;
}
div.TOGGLE::before {
    content: "::: "
}
div.TOGGLE::after {
    content: " :::"
}
div.TOGGLE:hover {
    opacity:0.8;
    transition: opacity 0.2s ease-in-out;
}
div.TOGGLETOC {
    position:absolute;
    left:0;
    /*left: var(--READERPOSITION);
    transition: left 0.8s ease-in-out;*/
    top:50dvh;
    transform: translateX(calc(-50% + 30px)) translateY(50%) rotate(270deg);
    color: var(--TextColor);
    font-size: 1.2em;
}

img.hrdiv {
    position:relative;
    top:0;    
    left: 25%;
    width: min(50%,300px);
    cursor: pointer;        
    filter: drop-shadow(1000vw 0 var(--TextColor));
    transform: translateX(-1000vw);
}

/* Background image for active theme */
div.imgbg {
    position:absolute;
    top:0;
    left:0;
    width:100vw;
    height:100vh;        
    opacity:10%;
}
div.layer1 {
    background-image: var(--ImageWallFore);      
    filter:             var(--IconState);
    mix-blend-mode:     hard-light;
}
div.layer2 {
    background-image: var(--ImageWallBack);      
    filter:             var(--IconState);
    mix-blend-mode:     hard-light;
}

div.FOOTER {
    display: grid;
    grid-template:
        'progress progress progress'
        'left info right';
    grid-column-gap: 0px;
    grid-row-gap: 0px;
    grid-template-columns: 100px auto 100px;
    width:auto;
    position: absolute;
    bottom:0;
    left:50vw;
    transform: translateX(-50%);
    width: var(--ContentWidth);
    height: var(--FooterHeight); 
    text-align: center;
}
div.PROGRESS {
    grid-area: progress;    
    height:10px;
}
    div.BARBG, div.BARFG {
        border-radius: 5px;
    }
    div.BARBG {
        position:relative;
        padding-top: 10px;
        left:50%;
        transform: translateX(-50%);
        width:90%;
        height:100%;
        background-color: var(--BackgroundColor);
    }
    div.BARFG {
        position: relative;
        height:100%;
        left: 0;
        width: max(10px,var(--BarLength));
        background-color: var(--BarColor);
    }
div.CONTROLS {
    grid-area: info;
    display: grid;
    grid-template:
        'chapter'
        'chname';
}
    div.IDCHAPTER, div.IDNAME {
        color: var(--TextColor);
        white-space: nowrap;
    }
    div.IDCHAPTER {
        grid-area: chapter;        
        font-family: var(--ActiveSub); 
        font-size: 1em;

    }
    div.IDNAME {
        grid-area: chname;        
        font-family: var(--ActiveTitle);  
        font-size: 1em;
    }

div.PREVIOUS, div.NEXT {
    color: var(--TextColor);
    font-family: var(--ActiveTitle);
    white-space: nowrap;
}
div.PREVIOUS {
    grid-area: left;
    margin: auto;
}
div.NEXT {
    grid-area: right;
    margin: auto;
}

/*
div._FULL {
    display: grid;
    grid-template:
            'a_left a_head a_head a_head a_right'
            'a_left a_body a_body a_body a_right'
            'a_left a_foot a_foot a_foot a_right';
    grid-column-gap: 0px;
    grid-row-gap: 0px;
    position:absolute;
    width:100vw;
    height:100dvh;
    left:-50vw;
    top:0;
    transform: translateX(50vw);
    overflow:hidden;
}
div._HEADER {
    grid-area: a_head;
    background-color: var(--BackgroundColor);
    height:var(--MenuHeight);        
    width:auto;
    display: grid;
    grid-template-columns: auto auto auto auto auto auto;
    text-align: center;
}
div._LEFT {
    grid-area: a_left;
    position: relative;
    left:0px;
}
div._RIGHT {
    grid-area: a_right;
    position: relative;
    right:0px;
}
div._LEFT, div._RIGHT {
    width: max(calc((100vw - var(--DefaultWidth))/2),var(--TextMargin))
}
div._FOOTER {
    grid-area: a_foot;
    display: inline-flex;
    flex-direction: column;
    height:min(35vw,120px);
}
div._BODY {
    grid-area: a_body;
    height: calc(100dvh - 100px - min(35vw,120px));
    width: min(var(--DefaultWidth), calc( 100vw - (var(--TextMargin) * 2) ));
    overflow-x: hidden;
    overflow-y: scroll;
    scrollbar-width: none;
}
@media only screen and (max-width: 600px) {
        div._FULL {
            grid-template:
                'a_head a_head a_head'
                'a_left a_body a_right'
                'a_foot a_foot a_foot';
        }
        div._LEFT div._RIGHT {

            width:5px;
        }
        div._BODY {
            width:100%;
        }
    }

    */